schema: '2.0'
stages:
  preprocess:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/global-data-on-sustainable-energy.csv
      hash: md5
      md5: db5ea6ee3f6863fef4d774b54886ac7f
      size: 513817
      isexec: true
    - path: params.yaml
      hash: md5
      md5: 2e0c4ca096b191957cd8feecb2d9498f
      size: 1997
    - path: src/data_preprocessing.py
      hash: md5
      md5: 93baee9fd7cae5b165b50d0dcf56b38d
      size: 7036
    outs:
    - path: artifacts/imputation_values.json
      hash: md5
      md5: 33377879213c198d0efe5dd6e11576b8
      size: 902
    - path: artifacts/ohe_columns.json
      hash: md5
      md5: 69966c74247a0314080228847d0350bb
      size: 4709
    - path: data/preprocessed/global_sustainable_energy_preprocessed2.csv
      hash: md5
      md5: 9281ad7cfc4b813d9e061f042fe46490
      size: 4263522
  feature_engineering:
    cmd: python src/feature_engineering.py --config params.yaml
    deps:
    - path: data/preprocessed/global_sustainable_energy_preprocessed2.csv
      hash: md5
      md5: 9281ad7cfc4b813d9e061f042fe46490
      size: 4263522
    - path: params.yaml
      hash: md5
      md5: 2e0c4ca096b191957cd8feecb2d9498f
      size: 1997
    - path: src/feature_engineering.py
      hash: md5
      md5: 05699bae961a91b9045f12bb430a810a
      size: 3071
    outs:
    - path: artifacts/boxcox_lambdas.json
      hash: md5
      md5: 178b2f1b388e8124e3ca084c31bb18a2
      size: 598
    - path: data/processed/test.csv
      hash: md5
      md5: 27f735c7bfc6ee20040ffada2d2909e6
      size: 905708
    - path: data/processed/train.csv
      hash: md5
      md5: d85f78f39d0fe5e1e31e978992a08e5c
      size: 3615071
  model_building:
    cmd: python src/model_building.py > logs/model_building.log 2>&1
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: f5d2bfcb449e5c0cda5fe924acceeee9
      size: 905661
      isexec: true
    - path: data/preprocessed/train.csv
      hash: md5
      md5: c584eaa8f7b1bb49933b724ff9ad0a0d
      size: 3614930
      isexec: true
    - path: params.yaml
      hash: md5
      md5: 6312cb5ed23914bb07ee987554902a3f
      size: 1135
      isexec: true
    - path: src/model_building.py
      hash: md5
      md5: 978860d6a7cacf2db28c47f995fbad06
      size: 4801
      isexec: true
    outs:
    - path: model/model.pkl
      hash: md5
      md5: b78cf8e1b0839f78b41bc0c6eb712ec0
      size: 1963
      isexec: true
  train:
    cmd: python src/train.py --config params.yaml
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 27f735c7bfc6ee20040ffada2d2909e6
      size: 905708
    - path: data/processed/train.csv
      hash: md5
      md5: d85f78f39d0fe5e1e31e978992a08e5c
      size: 3615071
    - path: params.yaml
      hash: md5
      md5: 2e0c4ca096b191957cd8feecb2d9498f
      size: 1997
    - path: src/train.py
      hash: md5
      md5: bc65cd40ea96e8c78f84cbb937398f8b
      size: 4976
    outs:
    - path: artifacts/scaler.pkl
      hash: md5
      md5: 80e7126eba789d3a4bdc26ca1962c1a9
      size: 8862
    - path: models_exp
      hash: md5
      md5: d371186ae454653144649b4706add16c.dir
      size: 4605208
      nfiles: 3
    - path: reports_exp
      hash: md5
      md5: 774613f5e9eaf27237e75b8d526a318e.dir
      size: 1095
      nfiles: 21
  select_best:
    cmd: python src/select_best_model.py --config params.yaml
    deps:
    - path: models_exp
      hash: md5
      md5: d371186ae454653144649b4706add16c.dir
      size: 4605208
      nfiles: 3
    - path: params.yaml
      hash: md5
      md5: 2e0c4ca096b191957cd8feecb2d9498f
      size: 1997
    - path: reports_exp
      hash: md5
      md5: 774613f5e9eaf27237e75b8d526a318e.dir
      size: 1095
      nfiles: 21
    - path: src/select_best_model.py
      hash: md5
      md5: b778f45c456d62dc95beb2ba2b85bf88
      size: 3647
    outs:
    - path: model/model.pkl
      hash: md5
      md5: 03ad2542ad4d461d24fc3b111b0cb98a
      size: 4601203
    - path: reports/best_model_summary.json
      hash: md5
      md5: c22f9170731993dfbf4a0d5120fe2832
      size: 208
